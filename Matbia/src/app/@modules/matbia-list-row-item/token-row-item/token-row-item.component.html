<div class="t-row">
  <a href="javascript:void(0)" class="position-absolute top-0 start-0 w-100 h-100"></a>
  <div class="td-div">
    <div class="form-check m-0 d-flex align-items-center gap-2">
      @if (isSelectMultiple) {
      <input
        class="form-check-input position-relative start-0"
        type="checkbox"
        [(ngModel)]="isChecked"
        (click)="onCheckboxClick()"
        [id]="SMSCheckboxId"
      />
      }
      <label class="form-check-label" [for]="SMSCheckboxId">
        {{ item.tokenNum }}
      </label>
    </div>
  </div>
  <div class="td-div">{{ item.amount | currency }}</div>
  <div class="td-div td-date">
    {{ item.generatedDateTime | date : 'MM/dd/yyyy hh:mm a' }}

    @if (isJustNowDate(item.generatedDateTime)) {
    <span class="tag">Just now</span>
    }
  </div>
  <div class="td-div">
    <div class="badge" [ngClass]="badgeClass()">
      {{ item.status }}
    </div>
  </div>
  <div class="td-div">
    {{ item.expDate | date : 'MM/dd/yyyy' }}
  </div>
  <div class="td-div">
    {{ item.bookNum }}
  </div>
  <div class="td-div td-action">
    <div class="td-action d-flex align-items-center">
      <a
        href="javascript:void(0)"
        class="dropdown-toggle"
        id="dropdownMenuButton2"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="16.827" height="18.124" viewBox="0 0 16.827 18.124">
          <g id="share" transform="translate(-11.849 -11.808)" opacity="0.5">
            <path
              id="Path_19119"
              data-name="Path 19119"
              d="M25.443,23.467a3.233,3.233,0,0,0-2.515,1.222L18.2,21.734a2.884,2.884,0,0,0,0-1.707l4.726-2.955a3.233,3.233,0,1,0-.718-2.011,3.1,3.1,0,0,0,.129.853L17.614,18.87a3.233,3.233,0,1,0,0,4.022l4.726,2.955a3.1,3.1,0,0,0-.129.853,3.233,3.233,0,1,0,3.233-3.233Zm0-10.345a1.94,1.94,0,1,1-1.94,1.94,1.94,1.94,0,0,1,1.94-1.94ZM15.1,22.82a1.94,1.94,0,1,1,1.94-1.94A1.94,1.94,0,0,1,15.1,22.82Zm10.345,5.819a1.94,1.94,0,1,1,1.94-1.94,1.94,1.94,0,0,1-1.94,1.94Z"
              transform="translate(0 0)"
              fill="#282a54"
            />
          </g>
        </svg>
      </a>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
        <a
          class="apikey-hash-tag action-copy"
          [class.copied]="isCopyAction"
          appAllowCopyData
          [class.disabled]="!isGenerated && isSelectMultiple"
          [class.enabled]="!isSelectMultiple"
          [toCopy]="displayValue(item.tokenNum)"
          (click)="onClicked($event)"
        >
          <i class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="17.768" height="17.768" viewBox="0 0 17.768 17.768">
              <g id="copy_outline" transform="translate(-23.4 -23.4)" opacity="0.55">
                <path
                  id="Path_18068"
                  data-name="Path 18068"
                  d="M37.347,34.125h1.381a1.841,1.841,0,0,0,1.841-1.841V25.841A1.841,1.841,0,0,0,38.727,24H32.284a1.841,1.841,0,0,0-1.841,1.841v1.381m-4.6,3.222h6.443a1.841,1.841,0,0,1,1.841,1.841v6.443a1.841,1.841,0,0,1-1.841,1.841H25.841A1.841,1.841,0,0,1,24,38.727V32.284A1.841,1.841,0,0,1,25.841,30.443Z"
                  fill="none"
                  stroke="#616161"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.2"
                />
              </g>
            </svg>
          </i>
          Copy
        </a>

        <a (click)="sendSms()" [class.disabled]="!isGenerated">
          <i class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="17.725" height="16.541" viewBox="0 0 17.725 16.541">
              <g id="chat" transform="translate(0 -12)">
                <g id="Group_3105" data-name="Group 3105" transform="translate(0 12)" opacity="0.55">
                  <path
                    id="Path_18070"
                    data-name="Path 18070"
                    d="M2.967,24.068a1.108,1.108,0,0,1,.318.887,12.153,12.153,0,0,1-.441,2.216,13.082,13.082,0,0,0,2.918-.989,1.108,1.108,0,0,1,.787-.082,8.929,8.929,0,0,0,2.314.3c4.427,0,7.755-3.11,7.755-6.647s-3.328-6.647-7.755-6.647-7.755,3.111-7.755,6.647A6.088,6.088,0,0,0,2.967,24.068Zm-.546,4.326q-.394.078-.79.143a.288.288,0,0,1-.3-.4q.148-.348.27-.706l0-.011a11.572,11.572,0,0,0,.58-2.569A7.2,7.2,0,0,1,0,19.755C0,15.472,3.968,12,8.862,12s8.862,3.472,8.862,7.755-3.968,7.755-8.862,7.755a10.037,10.037,0,0,1-2.6-.339A15.143,15.143,0,0,1,2.421,28.394Z"
                    transform="translate(0 -12)"
                    fill="#616161"
                  />
                </g>
              </g>
            </svg>
          </i>
          Send SMS
        </a>
        <a (click)="sendEmail()" [class.disabled]="!isGenerated">
          <i class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="17.399" height="12.428" viewBox="0 0 17.399 12.428">
              <g id="email" transform="translate(-12 -36)" opacity="0.55">
                <path
                  id="Path_18069"
                  data-name="Path 18069"
                  d="M28.157,36H13.243A1.243,1.243,0,0,0,12,37.243v9.943a1.243,1.243,0,0,0,1.243,1.243H28.157A1.243,1.243,0,0,0,29.4,47.185V37.243A1.243,1.243,0,0,0,28.157,36ZM26.79,37.243,20.7,41.456l-6.09-4.213ZM13.243,47.185V37.808l7.1,4.915a.621.621,0,0,0,.708,0l7.1-4.915v9.377Z"
                  fill="#616161"
                />
              </g>
            </svg>
          </i>
          Send Email
        </a>
        <a (click)="print()" [class.disabled]="!isGenerated">
          <i class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="19.931" height="17.439" viewBox="0 0 19.931 17.439">
              <g id="printer" transform="translate(0 -12)" opacity="0.55">
                <g id="Group_3106" data-name="Group 3106" transform="translate(0 12)">
                  <path
                    id="Path_18071"
                    data-name="Path 18071"
                    d="M24.623,85.246A.623.623,0,1,0,24,84.623.623.623,0,0,0,24.623,85.246Z"
                    transform="translate(-21.509 -76.526)"
                    fill="#616161"
                  />
                  <path
                    id="Path_18072"
                    data-name="Path 18072"
                    d="M6.228,12a2.491,2.491,0,0,0-2.491,2.491v2.491H2.491A2.491,2.491,0,0,0,0,19.474v3.737A2.491,2.491,0,0,0,2.491,25.7H3.737v1.246a2.491,2.491,0,0,0,2.491,2.491H13.7a2.491,2.491,0,0,0,2.491-2.491V25.7h1.246a2.491,2.491,0,0,0,2.491-2.491V19.474a2.491,2.491,0,0,0-2.491-2.491H16.194V14.491A2.491,2.491,0,0,0,13.7,12ZM4.983,14.491a1.246,1.246,0,0,1,1.246-1.246H13.7a1.246,1.246,0,0,1,1.246,1.246v2.491H4.983ZM6.228,20.72a2.491,2.491,0,0,0-2.491,2.491v1.246H2.491a1.246,1.246,0,0,1-1.246-1.246V19.474a1.246,1.246,0,0,1,1.246-1.246H17.439a1.246,1.246,0,0,1,1.246,1.246v3.737a1.246,1.246,0,0,1-1.246,1.246H16.194V23.211A2.491,2.491,0,0,0,13.7,20.72Zm8.72,2.491v3.737A1.246,1.246,0,0,1,13.7,28.194H6.228a1.246,1.246,0,0,1-1.246-1.246V23.211a1.246,1.246,0,0,1,1.246-1.246H13.7A1.246,1.246,0,0,1,14.948,23.211Z"
                    transform="translate(0 -12)"
                    fill="#616161"
                  />
                </g>
              </g>
            </svg>
          </i>
          Print
        </a>
      </div>

      @if (!isRedeemed) {
      <a
        href="javascript:void(0)"
        [class.disabled]="!isGenerated"
        [style.opacity]="!isGenerated ? 0.5 : 1"
        (click)="cancelModal()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <g id="cancel-line" transform="translate(-10.66 -10.66)" opacity="0.5">
            <path
              id="Path_37203"
              data-name="Path 37203"
              d="M20.66,10.66a10,10,0,1,0,10,10A10,10,0,0,0,20.66,10.66Zm-8.75,10a8.706,8.706,0,0,1,2.144-5.719L26.379,27.266A8.75,8.75,0,0,1,11.91,20.66Zm15.356,5.719L14.941,14.054A8.75,8.75,0,0,1,27.266,26.379Z"
              transform="translate(0 0)"
              fill="#282a54"
            />
          </g>
        </svg>
      </a>
      }
    </div>
  </div>
</div>
<div>
  <app-tokens-pdf [tokenData]="[item]"> </app-tokens-pdf>
</div>
