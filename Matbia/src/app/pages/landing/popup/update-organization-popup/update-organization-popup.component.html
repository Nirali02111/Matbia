<div class="modal-body">
  <div class="modal-body-form">
    <div class="modal-body-form-title">
      <h2>Update your info</h2>
      <p>
        Make sure your public information is correct. Matbia members are more likely to donate to organizations with
        complete and accurate information.
      </p>
    </div>
    <form [formGroup]="orgForm">
      <h4>Thumbnail Information</h4>
      <p>This is how your organization will show up in search and on transaction details.</p>

      <div class="card">
        <div class="row">
          <div class="col-md-12">
            <div class="d-flex flex-column flex-sm-row align-items-md-center justify-content-between gap-3">
              <div class="d-flex align-items-center gap-3">
                <figure>
                  <ng-container *ngIf="imageUrl">
                    <img [src]="imageUrl" alt="Profile" class="rounded-circle" width="70" />
                  </ng-container>
                  <ng-container *ngIf="!imageUrl">
                    <img [src]="profileIcon" alt="Default Profile" class="rounded-circle" width="70" />
                  </ng-container>
                </figure>
                <label for="" class="form-label">PROFILE:</label>
              </div>
              <label for="input-file-profile" class="btn btn-light">
                Upload Logo
                <input id="input-file-profile" type="file" class="d-none" (change)="onFileChange($event)" />
              </label>
            </div>
          </div>
          <div class="col-md-6">
            <label for="displayName" class="form-label">DISPLAY NAME:</label>
            <input id="displayName" class="form-control" placeholder="Display name" formControlName="displayName" />
          </div>

          <div class="col-md-6">
            <label for="orgJewishName" class="form-label">שם/נאמען
              <span>
                (Optional):
                <i ngbTooltip="Write your organizations Hebrew name with Hebrew characters." triggers="click:blur">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                    <g id="Icon_ionic-ios-help-circle-outline" data-name="Icon ionic-ios-help-circle-outline"
                      transform="translate(-3.375 -3.375)" opacity="0.7">
                      <path id="Path_1824" data-name="Path 1824"
                        d="M10.375,4.317A6.055,6.055,0,1,1,6.091,6.091a6.018,6.018,0,0,1,4.284-1.774m0-.942a7,7,0,1,0,7,7,7,7,0,0,0-7-7Z"
                        transform="translate(0 0)" fill="currentColor" />
                      <path id="Path_1825" data-name="Path 1825"
                        d="M15.519,11.25c1.17,0,1.975.649,1.975,1.582a1.526,1.526,0,0,1-.877,1.385c-.543.315-.727.546-.727.945v.247H14.807l-.009-.268a1.3,1.3,0,0,1,.736-1.373c.527-.315.749-.515.749-.9a.757.757,0,0,0-.839-.671.789.789,0,0,0-.836.768H13.5A1.781,1.781,0,0,1,15.519,11.25ZM14.7,16.6a.67.67,0,1,1,.668.643A.654.654,0,0,1,14.7,16.6Z"
                        transform="translate(-5.122 -3.871)" fill="currentColor" />
                    </g>
                  </svg>
                </i>
              </span>
            </label>
            <input id="orgJewishName" class="form-control" formControlName="orgJewishName" placeholder="Hebrew name" />
          </div>

          <div class="col-md-6">
            <label for="displayPhone" class="form-label">Display Phone Number:</label>
            <app-phone-input [isSubmit]="false" formControlName="phone"></app-phone-input>
          </div>

          <div class="col-md-6"></div>

          <div class="col-md-12">
            <label for="address" class="form-label">Location Address:</label>
            <input id="address" class="form-control" placeholder="Street" formControlName="address" />
          </div>

          <div class="col-md-6">
            <label for="city" class="form-label">City:</label>
            <input id="city" class="form-control" placeholder="Enter City" formControlName="city" />
          </div>

          <div class="col-md-3">
            <label for="state" class="form-label">STATE:</label>
            <ng-select placeholder="Choose" bindLabel="item_id" bindValue="item_id"
              [items]="commonDataService.stateList" formControlName="state" class="w-100"></ng-select>
          </div>

          <div class="col-md-3">
            <label for="zip" class="form-label">ZIP:</label>
            <input id="zip" class="form-control" placeholder="Zip code" formControlName="zip" />
          </div>
        </div>
      </div>

      <h4>Account Owner's Information</h4>
      <p>Tell us about the person managing your Matbia account. This information will remain private.</p>
      <div class="card">
        <div class="row">
          <div class="col-md-6">
            <label for="ownerName" class="form-label">Name:</label>
            <input id="ownerName" class="form-control" placeholder="Enter name" formControlName="ownerName" />
          </div>

          <div class="col-md-6">
            <label for="ownerEmail" class="form-label">Email:</label>
            <input id="ownerEmail" class="form-control" placeholder="Enter email address"
              formControlName="ownerEmail" />
          </div>

          <div class="col-md-6">
            <label for="ownerPhone" class="form-label">Phone Number:</label>
            <app-phone-input [isSubmit]="false" formControlName="ownerPhone"></app-phone-input>
          </div>
        </div>
      </div>
    </form>
  </div>
  <span class="devider"></span>
  <div class="modal-body-data-main flex-fill overflow-auto">
    <div class="text-center">
      <h5 class="">Public Profile Example</h5>
      <p class="text-center">
        This is one example of how your profile will appear to donors when they view your organization.
      </p>
    </div>
    <div class="modal-body-data">
      <figure>
        <img [src]="profilePreview.orgLogo" alt="Logo" class="rounded-circle" />
      </figure>
      <h4 class="text-center">{{ profilePreview.displayName }}</h4>
      <span class="text-center w-100 d-inline-block">{{ profilePreview.orgJewishName }}</span>
      <small class="text-center w-100 d-inline-block">{{ profilePreview.org }}</small>
      <ul>
        <li>
          <label for="">Location address:</label>
          <span class="opacity-35">{{ profilePreview.mailingAddress }}</span>
        </li>
        <li>
          <label for="">Phone:</label>
          <span>{{ profilePreview.phone }}</span>
        </li>
      </ul>
      <ul>
        <li>
          <label for="">Legal Name:</label>
          <span>{{ profilePreview.businessName }}</span>
        </li>
        <li>
          <label for="">Legal Address:</label>
          <span>
            {{ profilePreview.legalAddress || '-' }}
          </span>
        </li>
      </ul>
    </div>
    <small class="text-small">(Example of the “Donate” page on the donor’s portal).</small>
  </div>
</div>
<div class="modal-footer">
  <button type="submit" class="btn btn-primary" [disabled]="orgForm.invalid" (click)="onSubmit()">Submit</button>
</div>

@if(isLoading()){
<div class="overlay">
  <i class="fas fa-2x fa-sync-alt fa-spin"></i>
</div>
}