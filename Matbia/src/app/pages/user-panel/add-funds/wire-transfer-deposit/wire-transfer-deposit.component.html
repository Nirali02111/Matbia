@if (!displayDepositMethods()) { @if(displaySuccess()) {
<ng-template [ngTemplateOutlet]="displaySuccessTmp"></ng-template>
} @else {
<ng-template [ngTemplateOutlet]="page"></ng-template>
} } @else {
<app-choose-deposite-method></app-choose-deposite-method>
}

<ng-template #page>
  <div class="section-fund-deposit">
    <div class="small--container mx-auto">
      <span class="d-flex gap-3 align-items-center link-back">
        <a href="javascript:void(0)" (click)="$event.preventDefault(); displayDepositMethods.set(true)"
          ><svg
            id=" Component_51_4"
            data-name="Component 51 – 4"
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            viewBox="0 0 40 40"
          >
            <rect id="Rectangle_4499" data-name="Rectangle 4499" width="40" height="40" rx="10" opacity="0.08" />
            <path
              id="Path_445"
              data-name="Path 445"
              d="M2272.064,287.648l6.376,6.376,6.376-6.376"
              transform="translate(310.275 -2258.439) rotate(90)"
              fill="none"
              stroke="#454545"
              stroke-linecap="round"
              stroke-width="1.5"
              opacity="0.55"
            />
          </svg>
        </a>
        <h1>Deposit funds via Wire Transfer</h1>
      </span>

      <div class="d-flex flex-column flex-xl-row">
        <div class="card-fund-data" (keyup.enter)="onSubmit()" [formGroup]="formGroup">
          <div class="from-group">
            <label>Amount</label>
            <app-amount-input formControlName="amount" [separatorLimit]="AmountDigit"></app-amount-input>
            <button class="btn btn-calculator btn-outline-light" (click)="openMaaserCalculator()">
              <svg xmlns="http://www.w3.org/2000/svg" width="12.858" height="12.851" viewBox="0 0 12.858 12.851">
                <g id="graph-pie" transform="translate(-24.674 -24.71)">
                  <g
                    id="Path_37387"
                    data-name="Path 37387"
                    transform="translate(-69.907 0)"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M101.736,24.71a.23.23,0,0,0-.229.229.219.219,0,0,0,.007.033h-.007v5.441a.23.23,0,0,0,.229.229h5.44v-.007a.218.218,0,0,0,.034.007.23.23,0,0,0,.229-.229A5.764,5.764,0,0,0,101.736,24.71Z"
                      stroke="none"
                    />
                    <path
                      d="M 102.3065719604492 25.54975509643555 L 102.3065719604492 29.8433952331543 L 106.5998992919922 29.8433952331543 C 106.462532043457 28.75631141662598 105.9715728759766 27.75017356872559 105.1855850219727 26.96416473388672 C 104.3996505737305 26.17821311950684 103.3935775756836 25.68722534179688 102.3065719604492 25.54975509643555 M 101.7358779907227 24.71039581298828 C 104.871696472168 24.74310493469238 107.4066772460938 27.27807426452637 107.4392013549805 30.41391563415527 C 107.4392013549805 30.54059600830078 107.3364181518555 30.64339447021484 107.2099075317383 30.64339447021484 C 107.1979751586914 30.64339447021484 107.1877517700195 30.63836479187012 107.1763381958008 30.63664436340332 L 107.1763381958008 30.64339447021484 L 101.7358779907227 30.64339447021484 C 101.6093521118164 30.64339447021484 101.5065765380859 30.54059600830078 101.5065765380859 30.41391563415527 L 101.5065765380859 24.97327423095703 L 101.513313293457 24.97327423095703 C 101.5115814208984 24.96185493469238 101.5065765380859 24.95164489746094 101.5065765380859 24.93987464904785 C 101.5065765380859 24.81319427490234 101.6093521118164 24.71039581298828 101.7358779907227 24.71039581298828 Z"
                      stroke="none"
                      fill="#5d62e0"
                    />
                  </g>
                  <g
                    id="Path_37388"
                    data-name="Path 37388"
                    transform="translate(0 -13.322)"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M36.206,45.057a.229.229,0,0,0-.229-.229h-5a.229.229,0,0,1-.229-.229V39.615h-.007a.22.22,0,0,0,.007-.033.229.229,0,0,0-.229-.229c-.006,0-.01,0-.015,0v0l-.061,0a5.766,5.766,0,1,0,5.766,5.766c0-.018,0-.037,0-.055C36.2,45.061,36.206,45.059,36.206,45.057Z"
                      stroke="none"
                    />
                    <path
                      d="M 29.94570350646973 40.17668914794922 C 27.4384880065918 40.42533493041992 25.47392272949219 42.54658889770508 25.47392272949219 45.11812591552734 C 25.47392272949219 47.85628509521484 27.70157241821289 50.08393478393555 30.43973350524902 50.08393478393555 C 33.00642395019531 50.08393478393555 35.12453460693359 48.12659072875977 35.3797607421875 45.62755584716797 L 30.97443389892578 45.62755584716797 C 30.40719413757324 45.62715530395508 29.94570350646973 45.16533660888672 29.94570350646973 44.59808731079102 L 29.94570350646973 40.17668914794922 M 30.43973350524902 39.3523063659668 C 30.46015357971191 39.3523063659668 30.48040390014648 39.35369491577148 30.50082397460938 39.35386657714844 L 30.50082397460938 39.35542678833008 C 30.50618362426758 39.35508728027344 30.51068305969238 39.35231781005859 30.5162239074707 39.35231781005859 C 30.64290428161621 39.35231781005859 30.74570274353027 39.45493698120117 30.74570274353027 39.581787109375 C 30.74570274353027 39.59355545043945 30.74068260192871 39.60376739501953 30.73895263671875 39.61518478393555 L 30.74570274353027 39.61518478393555 L 30.74570274353027 44.59808731079102 C 30.74570274353027 44.72475433349609 30.84833335876465 44.82746505737305 30.97500419616699 44.82755661010742 L 35.97624206542969 44.82755661010742 C 36.10292434692383 44.82755661010742 36.20554351806641 44.93035507202148 36.20554351806641 45.05703735351562 C 36.20554351806641 45.05911636352539 36.2043342590332 45.06084442138672 36.2043342590332 45.06309509277344 C 36.20468139648438 45.08160781860352 36.20554351806641 45.09978485107422 36.20554351806641 45.11812591552734 C 36.20554351806641 48.30241775512695 33.6240234375 50.88393402099609 30.43973350524902 50.88393402099609 C 27.25544357299805 50.88393402099609 24.67392349243164 48.30241775512695 24.67392349243164 45.11812591552734 C 24.67392349243164 41.93383407592773 27.25544357299805 39.3523063659668 30.43973350524902 39.3523063659668 Z"
                      stroke="none"
                      fill="#5d62e0"
                    />
                  </g>
                </g>
              </svg>
              מעשר Calculator
            </button>
          </div>

          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                  <label for="note" class="form-label">NOTE:</label>
                  <textarea
                    type="text"
                    class="form-control"
                    id="note"
                    formControlName="note"
                    placeholder="Write a note"
                  ></textarea>
                </div>
                <div class="col-md-12">
                  <div class="form-check">
                    <input
                      id="third-party"
                      type="checkbox"
                      class="form-check-input"
                      alt=""
                      formControlName="isThirdPartyDeposit"
                    />
                    <label for="third-party" class="form-check-label">This is a third-party deposit</label>
                  </div>
                </div>

                @if(IsThirdPartyDeposit?.value) {

                <div class="col-md-12">
                  <label for="payername" class="form-label">PAYER NAME</label>
                  <input
                    type="text"
                    class="form-control"
                    id="payername"
                    formControlName="payername"
                    placeholder="Enter payer name"
                  />
                  @if(Payername?.touched && Payername?.invalid) {
                  <app-input-error [errors]="Payername?.errors"></app-input-error>
                  }
                </div>
                <div class="col-md-12">
                  <label class="form-label" for="address"> ADDRESS: </label>
                  <input
                    type="text"
                    id="address"
                    placeholder="Street address"
                    class="form-control"
                    formControlName="address"
                    appAddressAutocomplete
                    (onAddressChange)="onAddressChange($event)"
                  />
                  @if(Address?.touched && Address?.invalid) {
                  <app-input-error [errors]="Address?.errors"></app-input-error>
                  }
                </div>
                <div class="col-md-6">
                  <label class="form-label"> CITY: </label>
                  <input
                    type="text"
                    placeholder="Enter City"
                    class="form-control"
                    formControlName="city"
                    [attr.autocomplete]="isAutoSuggestion ? 'new-city' : null"
                  />
                  @if(City?.touched && City?.invalid) {
                  <app-input-error [errors]="City?.errors"></app-input-error>
                  }
                </div>
                <div class="col-md-3">
                  <label class="form-label"> STATE: </label>
                  <ng-select
                    class="ng-select-state"
                    bindLabel="item_id"
                    bindValue="item_id"
                    [addTag]="true"
                    [searchable]="true"
                    formControlName="state"
                    [searchFn]="customSearchFn"
                    [items]="commonDataService.stateList"
                  >
                    <ng-template ng-option-tmp let-item="item">
                      {{ item.item_id }}
                    </ng-template>
                  </ng-select>
                  @if(State?.touched && State?.invalid) {
                  <app-input-error [errors]="State?.errors"></app-input-error>
                  }
                </div>

                <div class="col-md-3">
                  <label class="form-label"> ZIP: </label>
                  <input
                    type="tel"
                    id="zipcode"
                    placeholder="Zip Code"
                    class="form-control"
                    formControlName="zip"
                    [validation]="zipCodeValidation"
                    [mask]="zipCodeMask"
                    [attr.autocomplete]="isAutoSuggestion ? 'new-zip' : null"
                  />
                  @if(Zip?.touched && Zip?.invalid) {
                  <app-input-error [errors]="Zip?.errors"></app-input-error>
                  }
                </div>
                <div class="col-md-6">
                  <label class="form-label">EMAIL ADDRESS:</label>
                  <input
                    type="email"
                    placeholder="Enter Email Address"
                    class="form-control"
                    formControlName="email"
                    [attr.autocomplete]="isAutoSuggestion ? 'new-email' : null"
                  />
                  @if(Email?.touched && Email?.invalid) {
                  <app-input-error [errors]="Email?.errors"></app-input-error>
                  }
                </div>
                <div class="col-md-6">
                  <label class="form-label"> PHONE NUMBER:</label>
                  <app-phone-input [isSubmit]="false" formControlName="phone"></app-phone-input>
                  @if(Phone?.touched && Phone?.invalid) {
                  <app-input-error [errors]="Phone?.errors"></app-input-error>
                  }
                </div>
                }
              </div>
            </div>
          </div>

          <ng-template [ngTemplateOutlet]="commonCard"></ng-template>

          <div
            class="card-bottom-bar text-sm-start text-center d-flex flex-sm-row flex-column align-items-sm-center justify-content-sm-end"
          >
            <small class="mb-4 mb-sm-0">
              By submitting you agree to our
              <a href="javascript:void(0)" (click)="onOpenTermAndCondition($event)">Terms & Conditions.</a>
            </small>
            <div class="d-flex flex-column flex-sm-row">
              <button class="btn btn-link">Cancel</button>
              <button class="btn btn-primary" (click)="onSubmit()">SUBMIT</button>
            </div>
          </div>
        </div>

        <div class="flex-fill">
          <app-add-funds-other-method-option-links type="WIRE">
            <ng-template #timeTemp> Funded in 1-2 business days </ng-template>

            <ng-template #completedTemp> Completes in 1-2 business days </ng-template>

            <ng-template #minimumTemplate> Minimum deposit $50 </ng-template>
          </app-add-funds-other-method-option-links>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #displaySuccessTmp>
  <div class="section-fund-deposit confirmation-message">
    <div class="small--container mx-auto">
      <div class="d-flex gap-3 align-items-center link-back">
        <h1>Confirmation</h1>
      </div>
      <div class="d-flex flex-column flex-xl-row">
        <div class="card-fund-data">
          <ng-template [ngTemplateOutlet]="commonCard"></ng-template>
        </div>

        <div class="flex-fill">
          <div class="card card-confirm text-center">
            <div class="card-body">
              <span>Wire Transfer</span>
              <i>
                <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" viewBox="0 0 46 46">
                  <g id="Group_2846" data-name="Group 2846" transform="translate(-1710 -462)">
                    <rect
                      id="Rectangle_4462"
                      data-name="Rectangle 4462"
                      width="46"
                      height="46"
                      rx="14"
                      transform="translate(1710 462)"
                      fill="#7a7ee1"
                      opacity="0.18"
                    />
                    <path
                      id="Union_37"
                      data-name="Union 37"
                      d="M-4223.128,23382.68v-1.283h-7.953a.317.317,0,0,1-.317-.316v-2.223a.316.316,0,0,1,.317-.316h7.953v-1.3a.317.317,0,0,1,.529-.236l3,2.719a.318.318,0,0,1,0,.471l-3,2.721a.312.312,0,0,1-.211.082A.317.317,0,0,1-4223.128,23382.68Zm-7.512-7.912a.06.06,0,0,1-.056-.084l.5-1.15a.059.059,0,0,1,.055-.037h13.932a.659.659,0,0,0,.6-.4,5.1,5.1,0,0,1,.964-1.482,5.145,5.145,0,0,1,1.473-1.1.656.656,0,0,0,.359-.586v-4.4a.651.651,0,0,0-.357-.584,5.159,5.159,0,0,1-1.343-.969,5.131,5.131,0,0,1-.969-1.344.655.655,0,0,0-.584-.357h-9.161a.06.06,0,0,1-.056-.084l.5-1.15a.059.059,0,0,1,.055-.037h12.37a.657.657,0,0,1,.657.656v12.457a.657.657,0,0,1-.657.656Zm-7.806-1.088a.554.554,0,0,1-.554-.555.554.554,0,0,1,.554-.553h5.627a.554.554,0,0,1,.554.553.555.555,0,0,1-.554.555Zm8.765-1.121a.061.061,0,0,1-.056-.086l1.117-2.578a.062.062,0,0,1,.106-.01,3.661,3.661,0,0,0,3.07,1.664,3.665,3.665,0,0,0,3.665-3.768,3.68,3.68,0,0,0-3.708-3.564,3.715,3.715,0,0,0-.595.055.059.059,0,0,1-.066-.082l.408-.945.016-.037h9.109a.664.664,0,0,1,.561.316,6.1,6.1,0,0,0,.879,1.111,6.223,6.223,0,0,0,1.11.879.661.661,0,0,1,.316.561v3.3a.661.661,0,0,1-.316.563,6.16,6.16,0,0,0-1.265,1.039,6.171,6.171,0,0,0-.889,1.236.662.662,0,0,1-.58.348Zm9.517-4.676a1.705,1.705,0,0,0,1.705,1.705,1.7,1.7,0,0,0,1.7-1.705,1.7,1.7,0,0,0-1.7-1.705A1.705,1.705,0,0,0-4220.165,23367.883Zm-16.874,2.486a.554.554,0,0,1-.554-.553.553.553,0,0,1,.554-.555h6.139a.553.553,0,0,1,.554.555.554.554,0,0,1-.554.553Zm11.342-.422v-.129a1.446,1.446,0,0,1-.409-.146,1.312,1.312,0,0,1-.323-.236,1.081,1.081,0,0,1-.214-.3.78.78,0,0,1-.038-.1.726.726,0,0,1-.039-.189c0-.016,0-.031,0-.047a.288.288,0,0,1,.1-.236.317.317,0,0,1,.208-.082.289.289,0,0,1,.3.24.684.684,0,0,0,.215.338.708.708,0,0,0,.206.123v-1.252a2.087,2.087,0,0,1-.3-.174l-.029-.021a1.2,1.2,0,0,1-.159-.143h0s0,0-.006-.006c-.016-.018-.032-.035-.047-.055a.988.988,0,0,1-.162-.285,1.032,1.032,0,0,1-.059-.355v-.006a1.009,1.009,0,0,1,.062-.361.922.922,0,0,1,.168-.285c.018-.02.037-.041.056-.061a1.081,1.081,0,0,1,.188-.148,1.181,1.181,0,0,1,.21-.1h.005l0,0,.072-.021v-.057a.335.335,0,0,1,.084-.254.263.263,0,0,1,.182-.059.328.328,0,0,1,.112.018.1.1,0,0,1,.032.012l0,0a.281.281,0,0,1,.132.281v.057a1.108,1.108,0,0,1,.264.094.148.148,0,0,1,.037.018.893.893,0,0,1,.142.09,1.2,1.2,0,0,1,.115.1.918.918,0,0,1,.175.262.768.768,0,0,1,.064.314.314.314,0,0,1-.088.227.309.309,0,0,1-.038.033.281.281,0,0,1-.178.057.225.225,0,0,1-.188-.068.485.485,0,0,1-.081-.158c-.02-.061-.042-.123-.068-.187a.281.281,0,0,0-.155-.15v.934c.047.021.092.043.138.068.084.043.166.088.245.137a1.7,1.7,0,0,1,.156.109c.031.027.061.051.089.076a.762.762,0,0,1,.069.068,1.1,1.1,0,0,1,.211.313c.013.031.024.061.034.092a.939.939,0,0,1,.042.244c0,.018,0,.037,0,.055,0,.043,0,.086,0,.129a1.23,1.23,0,0,1-.076.344,1.323,1.323,0,0,1-.074.154,1.191,1.191,0,0,1-.144.2,1.267,1.267,0,0,1-.229.186c-.028.018-.057.033-.087.051a1.324,1.324,0,0,1-.372.121v.123a.242.242,0,0,1-.272.273A.242.242,0,0,1-4225.7,23369.947Zm.545-.75.059-.027a.772.772,0,0,0,.146-.094.581.581,0,0,0,.075-.072.353.353,0,0,0,.047-.068.589.589,0,0,0,.062-.283c0-.014,0-.025,0-.037a.338.338,0,0,0-.066-.172.661.661,0,0,0-.042-.053c-.027-.025-.058-.051-.091-.076a1.271,1.271,0,0,0-.122-.084c-.021-.014-.043-.027-.066-.039Zm-.582-2.639a.6.6,0,0,0-.093.137.464.464,0,0,0-.051.2.347.347,0,0,0,.051.2.534.534,0,0,0,.093.1.4.4,0,0,0,.037.029v-.705A.459.459,0,0,0-4225.734,23366.559Zm-11.9.5a.554.554,0,0,1-.554-.555.555.555,0,0,1,.554-.555h4.136a.555.555,0,0,1,.554.555.554.554,0,0,1-.554.555Zm-.81-3.309a.556.556,0,0,1-.554-.557.554.554,0,0,1,.554-.553h10.146a.553.553,0,0,1,.554.553.555.555,0,0,1-.554.557Z"
                      transform="translate(5958 -22885)"
                      fill="#7579cd"
                    />
                  </g>
                </svg>
              </i>
              <h2>{{ Amount?.value | currency }}</h2>
              <small
                >TRANSACTION ID: <strong>{{ refNumber() }}</strong></small
              >

              <p>Deposit will be funded 1-2 business days after receipt of Wire transfer.</p>
              <button class="btn btn-outline-light" [routerLink]="getDashboardRouterLink()">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #commonCard>
  @if(displaySuccess()) {
  <div class="card card-info">
    <div class="card-body">
      <div class="card-head">
        <h4>Wire Transfer instructions</h4>
      </div>
      <div class="row">
        <div class="col-md-12">
          <h5>SEND TO:</h5>
          <div app-copy-data-action-button toCopy="Matbia Charities">
            <ng-template #displayTemplate>
              <span>Matbia Charities</span>
            </ng-template>
          </div>
          <hr />

          <h5>ADDRESS:</h5>
          <div app-copy-data-action-button toCopy="5314 16th Ave P.O. box #298 Brooklyn NY 11204">
            <ng-template #displayTemplate>
              <span>5314 16th Ave P.O. box #298 Brooklyn NY 11204</span>
            </ng-template>
          </div>
          <hr />

          <h5>NUMBER:</h5>
          <div app-copy-data-action-button toCopy="718-333-1010">
            <ng-template #displayTemplate>
              <span>718-333-1010</span>
            </ng-template>
          </div>
          <hr />

          <h5>BANK:</h5>
          <div app-copy-data-action-button toCopy="Chase">
            <ng-template #displayTemplate>
              <span>Flagstar</span>
            </ng-template>
          </div>
          <hr />
          <div class="d-flex flex-column flex-sm-row inline">
            <div class="w-100 pe-sm-2">
              <h5>ACCOUNT NUMBER:</h5>
              <div app-copy-data-action-button toCopy="1504872641">
                <ng-template #displayTemplate>
                  <span>1504872641</span>
                </ng-template>
              </div>
            </div>
            <hr class="d-sm-none" />
            <div class="w-100">
              <h5>ROUTING NUMBER:</h5>
              <div app-copy-data-action-button toCopy="026013576">
                <ng-template #displayTemplate>
                  <span>026013576</span>
                </ng-template>
              </div>
            </div>
          </div>
          <hr />

          <h5>WRITE THIS "TRANSACTION ID" IN YOUR WIRE MEMO:</h5>

          <div app-copy-data-action-button [toCopy]="refNumber()">
            <ng-template #displayTemplate>
              <span>Transaction ID: {{ refNumber() }}</span>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</ng-template>
